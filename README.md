# kafka-stream-processing

Задача - написать микросервис банковского баланса с двумя функциями: узнать баланс и изменить баланс

public interface BalanceService {
*    Optional<Long> getBalance(Long id);
*    void changeBalance(Long id, Long amount);
}

На стороне сервиса нужно подсчитывать количество запросов getBalance, changeBalance и их сумму в единицу времени. Результат записывать в лог.

Для оценки производительности сервиса нужно реализовать клиента, 
который В НЕСКОЛЬКО ПОТОКОВ выполняет бесконечный цикл. 
В цикле выполняется случайно выбранный запрос getBalance или changeBalance. 
Параметры для этих запросов выбираются из списка также случайным образом.

Требуются следующие настройки:

* threadCount - количество клиентских потоков (>= 1)
* readQuota   - доля запросов getBalance (>= 0)
* writeQuota  - доля запросов changeBalance (>= 0)
* readIdList  - список идентификаторов для getBalance
* writeIdList - список идентификаторов для changeBalance

Требования к функционалу:

* Сервис должен сохранять состояние счетов в базе данных.
* Нужно предусмотреть кэширование данных.
* Сервис должен работать в многопоточном режиме и корректно обрабатывать параллельные запросы, в том числе к одному банковскому счёту.
* Предполагается, что метод getBalance учитывает результаты всех успешно завершившихся ранее методов changeBalance.
* Сервис должен быть максимально высокопроизводительным, т.е. обрабатывать как можно большее количество запросов в единицу времени.

Замечания к реализации:
* Можно использовать любые библиотеки
* Можно использовать любые базы данных, брокеры сообщений и прочие сервисы
* Можно использовать любые протоколы общения между клиентом и сервером (http, hessian, rest, grpc, netty, rmi, socket’ы)